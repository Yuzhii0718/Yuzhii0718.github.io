{"version":3,"names":["NexT","motion","integrator","queue","init","this","add","fn","sequence","push","bootstrap","CONFIG","async","flat","forEach","timeline","window","anime","duration","easing","item","deltaT","middleWares","header","pushToSequence","targets","sequenceQueue","opacity","top","scheme","scaleX","menuItemTransition","transition","menu_item","document","querySelectorAll","complete","classList","subMenu","subMenuItem","length","element","postList","post_block","post_header","post_body","coll_header","animate","animation","elements","sidebar","sidebarTransition","innerWidth","footer","querySelector"],"sources":["motion.js.map"],"sourcesContent":["/* global NexT, CONFIG */\n\nNexT.motion = {};\n\nNexT.motion.integrator = {\n  queue: [],\n  init() {\n    this.queue = [];\n    return this;\n  },\n  add(fn) {\n    const sequence = fn();\n    this.queue.push(sequence);\n    return this;\n  },\n  bootstrap() {\n    if (!CONFIG.motion.async) this.queue = [this.queue.flat()];\n    this.queue.forEach(sequence => {\n      const timeline = window.anime.timeline({\n        duration: CONFIG.motion?.duration ?? 200,\n        easing  : 'linear'\n      });\n      sequence.forEach(item => {\n        if (item.deltaT) timeline.add(item, item.deltaT);\n        else timeline.add(item);\n      });\n    });\n  }\n};\n\nNexT.motion.middleWares = {\n  header() {\n    const sequence = [];\n\n    function getMistLineSettings(targets) {\n      sequence.push({\n        targets,\n        scaleX  : [0, 1],\n        duration: 500,\n        deltaT  : '-=200'\n      });\n    }\n\n    function pushToSequence(targets, sequenceQueue = false) {\n      sequence.push({\n        targets,\n        opacity: 1,\n        top    : 0,\n        deltaT : sequenceQueue ? '-=200' : '-=0'\n      });\n    }\n\n    pushToSequence('.column');\n    CONFIG.scheme === 'Mist' && getMistLineSettings('.logo-line');\n    CONFIG.scheme === 'Muse' && pushToSequence('.custom-logo-image');\n    pushToSequence('.site-title');\n    pushToSequence('.site-brand-container .toggle', true);\n    pushToSequence('.site-subtitle');\n    (CONFIG.scheme === 'Pisces' || CONFIG.scheme === 'Gemini') && pushToSequence('.custom-logo-image');\n\n    const menuItemTransition = CONFIG.motion.transition.menu_item;\n    if (menuItemTransition) {\n      document.querySelectorAll('.menu-item').forEach(targets => {\n        sequence.push({\n          targets,\n          complete: () => targets.classList.add('animated', menuItemTransition),\n          deltaT  : '-=200'\n        });\n      });\n    }\n\n    return sequence;\n  },\n\n  subMenu() {\n    const subMenuItem = document.querySelectorAll('.sub-menu .menu-item');\n    if (subMenuItem.length > 0) {\n      subMenuItem.forEach(element => {\n        element.classList.add('animated');\n      });\n    }\n    return [];\n  },\n\n  postList() {\n    const sequence = [];\n    const { post_block, post_header, post_body, coll_header } = CONFIG.motion.transition;\n\n    function animate(animation, elements) {\n      if (!animation) return;\n      elements.forEach(targets => {\n        sequence.push({\n          targets,\n          complete: () => targets.classList.add('animated', animation),\n          deltaT  : '-=100'\n        });\n      });\n    }\n\n    document.querySelectorAll('.post-block').forEach(targets => {\n      sequence.push({\n        targets,\n        complete: () => targets.classList.add('animated', post_block),\n        deltaT  : '-=100'\n      });\n      animate(coll_header, targets.querySelectorAll('.collection-header'));\n      animate(post_header, targets.querySelectorAll('.post-header'));\n      animate(post_body, targets.querySelectorAll('.post-body'));\n    });\n\n    animate(post_block, document.querySelectorAll('.pagination, .comments'));\n\n    return sequence;\n  },\n\n  sidebar() {\n    const sequence = [];\n    const sidebar = document.querySelectorAll('.sidebar-inner');\n    const sidebarTransition = CONFIG.motion.transition.sidebar;\n    // Only for desktop of Pisces | Gemini.\n    if (sidebarTransition && (CONFIG.scheme === 'Pisces' || CONFIG.scheme === 'Gemini') && window.innerWidth >= 992) {\n      sidebar.forEach(targets => {\n        sequence.push({\n          targets,\n          complete: () => targets.classList.add('animated', sidebarTransition),\n          deltaT  : '-=100'\n        });\n      });\n    }\n    return sequence;\n  },\n\n  footer() {\n    return [{\n      targets: document.querySelector('.footer'),\n      opacity: 1\n    }];\n  }\n};\n"],"mappings":"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","ignoreList":[]}