{"version":3,"names":["document","addEventListener","appid","appkey","CONFIG","changyan","countJs","setTimeout","NexT","utils","getScript","attributes","async","id","page","comments","isHome","loadComments","then","window","api","config","conf","catch","error","console"],"sources":["changyan.js.map"],"sourcesContent":["/* global NexT, CONFIG */\n\ndocument.addEventListener('page:loaded', () => {\n  const { appid, appkey } = CONFIG.changyan;\n  const mainJs = 'https://cy-cdn.kuaizhan.com/upload/changyan.js';\n  const countJs = `https://cy-cdn.kuaizhan.com/upload/plugins/plugins.list.count.js?clientId=${appid}`;\n\n  // Get the number of comments\n  setTimeout(() => {\n    return NexT.utils.getScript(countJs, {\n      attributes: {\n        async: true,\n        id   : 'cy_cmt_num'\n      }\n    });\n  }, 0);\n\n  // When scroll to comment section\n  if (CONFIG.page.comments && !CONFIG.page.isHome) {\n    NexT.utils.loadComments('#SOHUCS')\n      .then(() => {\n        return NexT.utils.getScript(mainJs, {\n          attributes: {\n            async: true\n          }\n        });\n      })\n      .then(() => {\n        window.changyan.api.config({\n          appid,\n          conf: appkey\n        });\n      })\n      .catch(error => {\n        // eslint-disable-next-line no-console\n        console.error('Failed to load Changyan', error);\n      });\n  }\n});\n"],"mappings":"AAEAA,SAASC,iBAAiB,eAAe,KACvC,MAAMC,MAAEA,EAAKC,OAAEA,GAAWC,OAAOC,SAE3BC,EAAU,6EAA6EJ,IAG7FK,YAAW,IACFC,KAAKC,MAAMC,UAAUJ,EAAS,CACnCK,WAAY,CACVC,OAAO,EACPC,GAAO,iBAGV,GAGCT,OAAOU,KAAKC,WAAaX,OAAOU,KAAKE,QACvCR,KAAKC,MAAMQ,aAAa,WACrBC,MAAK,IACGV,KAAKC,MAAMC,UAjBT,iDAiB2B,CAClCC,WAAY,CACVC,OAAO,OAIZM,MAAK,KACJC,OAAOd,SAASe,IAAIC,OAAO,CACzBnB,QACAoB,KAAMnB,GACN,IAEHoB,OAAMC,IAELC,QAAQD,MAAM,0BAA2BA,EAAM,GAErD","ignoreList":[]}