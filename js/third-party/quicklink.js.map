{"version":3,"names":["CONFIG","quicklink","ignores","ignoresStr","JSON","parse","resetFn","onRefresh","enable","ignoresArr","Array","isArray","listen","timeout","priority","uri","includes","url","delay","window","addEventListener","document"],"sources":["quicklink.js.map"],"sourcesContent":["/* global CONFIG, quicklink */\n\n(function() {\n  if (typeof CONFIG.quicklink.ignores === 'string') {\n    const ignoresStr = `[${CONFIG.quicklink.ignores}]`;\n    CONFIG.quicklink.ignores = JSON.parse(ignoresStr);\n  }\n\n  let resetFn = null;\n\n  const onRefresh = () => {\n    if (resetFn) resetFn();\n    if (!CONFIG.quicklink.enable) return;\n\n    let ignoresArr = CONFIG.quicklink.ignores || [];\n    if (!Array.isArray(ignoresArr)) {\n      ignoresArr = [ignoresArr];\n    }\n\n    resetFn = quicklink.listen({\n      timeout : CONFIG.quicklink.timeout,\n      priority: CONFIG.quicklink.priority,\n      ignores : [\n        uri => uri.includes('#'),\n        uri => uri === CONFIG.quicklink.url,\n        ...ignoresArr\n      ]\n    });\n  };\n\n  if (CONFIG.quicklink.delay) {\n    window.addEventListener('load', onRefresh);\n    document.addEventListener('pjax:success', onRefresh);\n  } else {\n    document.addEventListener('page:loaded', onRefresh);\n  }\n})();\n"],"mappings":"CAEA,WACE,GAAwC,iBAA7BA,OAAOC,UAAUC,QAAsB,CAChD,MAAMC,EAAa,IAAIH,OAAOC,UAAUC,WACxCF,OAAOC,UAAUC,QAAUE,KAAKC,MAAMF,EACxC,CAEA,IAAIG,EAAU,KAEd,MAAMC,EAAY,KAEhB,GADID,GAASA,KACRN,OAAOC,UAAUO,OAAQ,OAE9B,IAAIC,EAAaT,OAAOC,UAAUC,SAAW,GACxCQ,MAAMC,QAAQF,KACjBA,EAAa,CAACA,IAGhBH,EAAUL,UAAUW,OAAO,CACzBC,QAAUb,OAAOC,UAAUY,QAC3BC,SAAUd,OAAOC,UAAUa,SAC3BZ,QAAU,CACRa,GAAOA,EAAIC,SAAS,KACpBD,GAAOA,IAAQf,OAAOC,UAAUgB,OAC7BR,IAEL,EAGAT,OAAOC,UAAUiB,OACnBC,OAAOC,iBAAiB,OAAQb,GAChCc,SAASD,iBAAiB,eAAgBb,IAE1Cc,SAASD,iBAAiB,cAAeb,EAE5C,CAlCD","ignoreList":[]}