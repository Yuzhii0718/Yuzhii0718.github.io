{"version":3,"names":["HTMLElement","prototype","wrap","wrapper","this","parentNode","insertBefore","removeChild","appendChild","onPageLoaded","document","dispatchEvent","Event","bubbles","readyState","addEventListener","once","NexT","utils","registerExtURL","querySelectorAll","forEach","element","link","createElement","href","decodeURIComponent","atob","dataset","url","split","map","c","charCodeAt","toString","slice","join","rel","target","className","title","innerHTML","replaceChild","registerCopyButton","code","insertAdjacentHTML","button","querySelector","lines","innerText","navigator","clipboard","writeText","then","ta","style","top","window","scrollY","position","opacity","readOnly","value","body","append","select","setSelectionRange","length","result","execCommand","blur","setTimeout","registerCodeblock","inited","figure","CONFIG","hljswrap","span","s","classList","name","replace","height","parseInt","getComputedStyle","needFold","fold","enable","copycode","box","container","add","contains","remove","wrapTableWithBox","registerVideoIframe","some","host","src","includes","matches","width","Number","paddingTop","updateActiveNav","Array","isArray","sections","index","findIndex","getBoundingClientRect","activateNavByIndex","registerScrollPercent","backToTop","readingProgressBar","contentHeight","scrollHeight","innerHeight","scrollPercent","Math","min","toggle","round","setProperty","toFixed","passive","anime","targets","scrollingElement","duration","easing","scrollTop","registerTabsTag","event","preventDefault","nav","tabContent","nextElementSibling","overflow","transition","activeTab","firstElementChild","prevHeight","marginBottom","children","tActive","getElementById","getAttribute","hasScrollBar","documentElement","clientHeight","currHeight","currHeightAfterScrollBarChange","stickytabs","offset","registerCanIUseTag","data","featureID","registerActiveMenuItem","isSamePath","pathname","location","isSubPath","root","startsWith","hostname","registerLangSelect","sel","page","lang","options","selectedIndex","text","registerSidebarTOC","decodeURI","complete","history","pushState","registerPostReward","navItemList","singleHeight","offsetHeight","navItem","activateEle","parentElement","navChildHeight","childElementCount","tocElement","scheme","updateSidebarPosition","innerWidth","hasTOC","display","sidebar","activateSidebarPanel","activeClassNames","panelContainer","tocPanel","overviewPanel","lastElementChild","postTOCHeight","getPropertyValue","panelHeights","updateFooterPosition","footer","containerHeight","getScript","legacyCondition","condition","attributes","id","async","defer","crossOrigin","otherAttributes","Promise","resolve","reject","script","Object","assign","entries","setAttribute","String","onload","onerror","integrity","head","loadComments","selector","legacyCallback","comments","lazyload","IntersectionObserver","observer","isIntersecting","disconnect","observe","debounce","func","wait","timeout","args","context","clearTimeout","apply"],"sources":["utils.js.map"],"sourcesContent":["/* global NexT, CONFIG */\n\nHTMLElement.prototype.wrap = function(wrapper) {\n  this.parentNode.insertBefore(wrapper, this);\n  this.parentNode.removeChild(this);\n  wrapper.appendChild(this);\n};\n\n(function() {\n  const onPageLoaded = () => document.dispatchEvent(\n    new Event('page:loaded', {\n      bubbles: true\n    })\n  );\n\n  if (document.readyState === 'loading') {\n    document.addEventListener('readystatechange', onPageLoaded, { once: true });\n  } else {\n    onPageLoaded();\n  }\n  document.addEventListener('pjax:success', onPageLoaded);\n})();\n\nNexT.utils = {\n\n  registerExtURL() {\n    document.querySelectorAll('span.exturl').forEach(element => {\n      const link = document.createElement('a');\n      // https://stackoverflow.com/questions/30106476/using-javascripts-atob-to-decode-base64-doesnt-properly-decode-utf-8-strings\n      link.href = decodeURIComponent(atob(element.dataset.url).split('').map(c => {\n        return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\n      }).join(''));\n      link.rel = 'noopener external nofollow noreferrer';\n      link.target = '_blank';\n      link.className = element.className;\n      link.title = element.title;\n      link.innerHTML = element.innerHTML;\n      element.parentNode.replaceChild(link, element);\n    });\n  },\n\n  registerCopyButton(target, element, code = '') {\n    // One-click copy code support.\n    target.insertAdjacentHTML('beforeend', '<div class=\"copy-btn\"><i class=\"fa fa-copy fa-fw\"></i></div>');\n    const button = target.querySelector('.copy-btn');\n    button.addEventListener('click', () => {\n      if (!code) {\n        const lines = element.querySelector('.code') || element.querySelector('code');\n        code = lines.innerText;\n      }\n      if (navigator.clipboard) {\n        // https://caniuse.com/mdn-api_clipboard_writetext\n        navigator.clipboard.writeText(code).then(() => {\n          button.querySelector('i').className = 'fa fa-check-circle fa-fw';\n        }, () => {\n          button.querySelector('i').className = 'fa fa-times-circle fa-fw';\n        });\n      } else {\n        const ta = document.createElement('textarea');\n        ta.style.top = window.scrollY + 'px'; // Prevent page scrolling\n        ta.style.position = 'absolute';\n        ta.style.opacity = '0';\n        ta.readOnly = true;\n        ta.value = code;\n        document.body.append(ta);\n        ta.select();\n        ta.setSelectionRange(0, code.length);\n        ta.readOnly = false;\n        const result = document.execCommand('copy');\n        button.querySelector('i').className = result ? 'fa fa-check-circle fa-fw' : 'fa fa-times-circle fa-fw';\n        ta.blur(); // For iOS\n        button.blur();\n        document.body.removeChild(ta);\n      }\n    });\n    // If copycode.style is not mac, element is larger than target\n    // So we need to accept both of them as parameters\n    element.addEventListener('mouseleave', () => {\n      setTimeout(() => {\n        button.querySelector('i').className = 'fa fa-copy fa-fw';\n      }, 300);\n    });\n  },\n\n  registerCodeblock(element) {\n    const inited = !!element;\n    let figure;\n    if (CONFIG.hljswrap) {\n      figure = (inited ? element : document).querySelectorAll('figure.highlight');\n    } else {\n      figure = document.querySelectorAll('pre');\n    }\n    figure.forEach(element => {\n      // Skip pre > .mermaid for folding and copy button\n      if (element.querySelector('.mermaid')) return;\n      if (!inited) {\n        let span = element.querySelectorAll('.code .line span');\n        if (span.length === 0) {\n          // Hljs without line_number and wrap\n          span = element.querySelectorAll('code.highlight span');\n        }\n        span.forEach(s => {\n          s.classList.forEach(name => {\n            s.classList.replace(name, `hljs-${name}`);\n          });\n        });\n      }\n      const height = parseInt(window.getComputedStyle(element).height, 10);\n      const needFold = CONFIG.fold.enable && (height > CONFIG.fold.height);\n      if (!needFold && !CONFIG.copycode.enable) return;\n      let target;\n      if (CONFIG.hljswrap && CONFIG.copycode.style === 'mac') {\n        target = element;\n      } else {\n        let box = element.querySelector('.code-container');\n        if (!box) {\n          // https://github.com/next-theme/hexo-theme-next/issues/98\n          // https://github.com/next-theme/hexo-theme-next/pull/508\n          const container = element.querySelector('.table-container') || element;\n          box = document.createElement('div');\n          box.className = 'code-container';\n          container.wrap(box);\n\n          // add \"notranslate\" to prevent Google Translate from translating it, which also completely messes up the layout\n          box.classList.add('notranslate');\n        }\n        target = box;\n      }\n      if (needFold && !target.classList.contains('unfold')) {\n        target.classList.add('highlight-fold');\n        target.insertAdjacentHTML('beforeend', '<div class=\"fold-cover\"></div><div class=\"expand-btn\"><i class=\"fa fa-angle-down fa-fw\"></i></div>');\n        target.querySelector('.expand-btn').addEventListener('click', () => {\n          target.classList.remove('highlight-fold');\n          target.classList.add('unfold');\n        });\n      }\n      if (!inited && CONFIG.copycode.enable) {\n        this.registerCopyButton(target, element);\n      }\n    });\n  },\n\n  wrapTableWithBox() {\n    document.querySelectorAll('table').forEach(element => {\n      const box = document.createElement('div');\n      box.className = 'table-container';\n      element.wrap(box);\n    });\n  },\n\n  registerVideoIframe() {\n    document.querySelectorAll('iframe').forEach(element => {\n      const supported = [\n        'www.youtube.com',\n        'player.vimeo.com',\n        'player.youku.com',\n        'player.bilibili.com',\n        'www.tudou.com'\n      ].some(host => element.src.includes(host));\n      if (supported && !element.parentNode.matches('.video-container')) {\n        const box = document.createElement('div');\n        box.className = 'video-container';\n        element.wrap(box);\n        const width = Number(element.width);\n        const height = Number(element.height);\n        if (width && height) {\n          box.style.paddingTop = (height / width * 100) + '%';\n        }\n      }\n    });\n  },\n\n  updateActiveNav() {\n    if (!Array.isArray(this.sections)) return;\n    let index = this.sections.findIndex(element => {\n      return element && element.getBoundingClientRect().top > 10;\n    });\n    if (index === -1) {\n      index = this.sections.length - 1;\n    } else if (index > 0) {\n      index--;\n    }\n    this.activateNavByIndex(index);\n  },\n\n  registerScrollPercent() {\n    const backToTop = document.querySelector('.back-to-top');\n    const readingProgressBar = document.querySelector('.reading-progress-bar');\n    // For init back to top in sidebar if page was scrolled after page refresh.\n    window.addEventListener('scroll', () => {\n      if (backToTop || readingProgressBar) {\n        const contentHeight = document.body.scrollHeight - window.innerHeight;\n        const scrollPercent = contentHeight > 0 ? Math.min(100 * window.scrollY / contentHeight, 100) : 0;\n        if (backToTop) {\n          backToTop.classList.toggle('back-to-top-on', Math.round(scrollPercent) >= 5);\n          backToTop.querySelector('span').innerText = Math.round(scrollPercent) + '%';\n        }\n        if (readingProgressBar) {\n          readingProgressBar.style.setProperty('--progress', scrollPercent.toFixed(2) + '%');\n        }\n      }\n      this.updateActiveNav();\n    }, { passive: true });\n\n    backToTop && backToTop.addEventListener('click', () => {\n      window.anime({\n        targets  : document.scrollingElement,\n        duration : 500,\n        easing   : 'linear',\n        scrollTop: 0\n      });\n    });\n  },\n\n  /**\n   * Tabs tag listener (without twitter bootstrap).\n   */\n  registerTabsTag() {\n    // Binding `nav-tabs` & `tab-content` by real time permalink changing.\n    document.querySelectorAll('.tabs ul.nav-tabs .tab').forEach(element => {\n      element.addEventListener('click', event => {\n        event.preventDefault();\n        // Prevent selected tab to select again.\n        if (element.classList.contains('active')) return;\n        const nav = element.parentNode;\n        // Get the height of `tab-pane` which is activated before, and set it as the height of `tab-content` with extra margin / paddings.\n        const tabContent = nav.nextElementSibling;\n        tabContent.style.overflow = 'hidden';\n        tabContent.style.transition = 'height 1s';\n        // Comment system selection tab does not contain .active class.\n        const activeTab = tabContent.querySelector('.active') || tabContent.firstElementChild;\n        // Hight might be `auto`.\n        const prevHeight = parseInt(window.getComputedStyle(activeTab).height, 10) || 0;\n        const paddingTop = parseInt(window.getComputedStyle(activeTab).paddingTop, 10);\n        const marginBottom = parseInt(window.getComputedStyle(activeTab.firstElementChild).marginBottom, 10);\n        tabContent.style.height = prevHeight + paddingTop + marginBottom + 'px';\n        // Add & Remove active class on `nav-tabs` & `tab-content`.\n        [...nav.children].forEach(target => {\n          target.classList.toggle('active', target === element);\n        });\n        // https://stackoverflow.com/questions/20306204/using-queryselector-with-ids-that-are-numbers\n        const tActive = document.getElementById(element.querySelector('a').getAttribute('href').replace('#', ''));\n        [...tActive.parentNode.children].forEach(target => {\n          target.classList.toggle('active', target === tActive);\n        });\n        // Trigger event\n        tActive.dispatchEvent(new Event('tabs:click', {\n          bubbles: true\n        }));\n        // Get the height of `tab-pane` which is activated now.\n        const hasScrollBar = document.body.scrollHeight > (window.innerHeight || document.documentElement.clientHeight);\n        const currHeight = parseInt(window.getComputedStyle(tabContent.querySelector('.active')).height, 10);\n        // Reset the height of `tab-content` and see the animation.\n        tabContent.style.height = currHeight + paddingTop + marginBottom + 'px';\n        // Change the height of `tab-content` may cause scrollbar show / disappear, which may result in the change of the `tab-pane`'s height\n        setTimeout(() => {\n          if ((document.body.scrollHeight > (window.innerHeight || document.documentElement.clientHeight)) !== hasScrollBar) {\n            tabContent.style.transition = 'height 0.3s linear';\n            // After the animation, we need reset the height of `tab-content` again.\n            const currHeightAfterScrollBarChange = parseInt(window.getComputedStyle(tabContent.querySelector('.active')).height, 10);\n            tabContent.style.height = currHeightAfterScrollBarChange + paddingTop + marginBottom + 'px';\n          }\n          // Remove all the inline styles, and let the height be adaptive again.\n          setTimeout(() => {\n            tabContent.style.transition = '';\n            tabContent.style.height = '';\n          }, 250);\n        }, 1000);\n        if (!CONFIG.stickytabs) return;\n        const offset = nav.parentNode.getBoundingClientRect().top + window.scrollY + 10;\n        window.anime({\n          targets  : document.scrollingElement,\n          duration : 500,\n          easing   : 'linear',\n          scrollTop: offset\n        });\n      });\n    });\n\n    window.dispatchEvent(new Event('tabs:register'));\n  },\n\n  registerCanIUseTag() {\n    // Get responsive height passed from iframe.\n    window.addEventListener('message', ({ data }) => {\n      if (typeof data === 'string' && data.includes('ciu_embed')) {\n        const featureID = data.split(':')[1];\n        const height = data.split(':')[2];\n        document.querySelector(`iframe[data-feature=${featureID}]`).style.height = parseInt(height, 10) + 5 + 'px';\n      }\n    }, false);\n  },\n\n  registerActiveMenuItem() {\n    document.querySelectorAll('.menu-item a[href]').forEach(target => {\n      const isSamePath = target.pathname === location.pathname || target.pathname === location.pathname.replace('index.html', '');\n      const isSubPath = !CONFIG.root.startsWith(target.pathname) && location.pathname.startsWith(target.pathname);\n      target.classList.toggle('menu-item-active', target.hostname === location.hostname && (isSamePath || isSubPath));\n    });\n  },\n\n  registerLangSelect() {\n    const selects = document.querySelectorAll('.lang-select');\n    selects.forEach(sel => {\n      sel.value = CONFIG.page.lang;\n      sel.addEventListener('change', () => {\n        const target = sel.options[sel.selectedIndex];\n        document.querySelectorAll('.lang-select-label span').forEach(span => {\n          span.innerText = target.text;\n        });\n        // Disable Pjax to force refresh translation of menu item\n        window.location.href = target.dataset.href;\n      });\n    });\n  },\n\n  registerSidebarTOC() {\n    this.sections = [...document.querySelectorAll('.post-toc:not(.placeholder-toc) li a.nav-link')].map(element => {\n      const target = document.getElementById(decodeURI(element.getAttribute('href')).replace('#', ''));\n      // TOC item animation navigate.\n      element.addEventListener('click', event => {\n        event.preventDefault();\n        const offset = target.getBoundingClientRect().top + window.scrollY;\n        window.anime({\n          targets  : document.scrollingElement,\n          duration : 500,\n          easing   : 'linear',\n          scrollTop: offset,\n          complete : () => {\n            history.pushState(null, document.title, element.href);\n          }\n        });\n      });\n      return target;\n    });\n    this.updateActiveNav();\n  },\n\n  registerPostReward() {\n    const button = document.querySelector('.reward-container button');\n    if (!button) return;\n    button.addEventListener('click', () => {\n      document.querySelector('.post-reward').classList.toggle('active');\n    });\n  },\n\n  activateNavByIndex(index) {\n    const nav = document.querySelector('.post-toc:not(.placeholder-toc) .nav');\n    if (!nav) return;\n\n    const navItemList = nav.querySelectorAll('.nav-item');\n    const target = navItemList[index];\n    if (!target || target.classList.contains('active-current')) return;\n\n    const singleHeight = navItemList[navItemList.length - 1].offsetHeight;\n\n    nav.querySelectorAll('.active').forEach(navItem => {\n      navItem.classList.remove('active', 'active-current');\n    });\n    target.classList.add('active', 'active-current');\n\n    let activateEle = target.querySelector('.nav-child') || target.parentElement;\n    let navChildHeight = 0;\n\n    while (nav.contains(activateEle)) {\n      if (activateEle.classList.contains('nav-item')) {\n        activateEle.classList.add('active');\n      } else { // .nav-child or .nav\n        // scrollHeight isn't reliable for transitioning child items.\n        // The last nav-item in a list has a margin-bottom of 5px.\n        navChildHeight += (singleHeight * activateEle.childElementCount) + 5;\n        activateEle.style.setProperty('--height', `${navChildHeight}px`);\n      }\n      activateEle = activateEle.parentElement;\n    }\n\n    // Scrolling to center active TOC element if TOC content is taller then viewport.\n    const tocElement = document.querySelector(CONFIG.scheme === 'Pisces' || CONFIG.scheme === 'Gemini' ? '.sidebar-panel-container' : '.sidebar');\n    if (!document.querySelector('.sidebar-toc-active')) return;\n    window.anime({\n      targets  : tocElement,\n      duration : 200,\n      easing   : 'linear',\n      scrollTop: tocElement.scrollTop - (tocElement.offsetHeight / 2) + target.getBoundingClientRect().top - tocElement.getBoundingClientRect().top\n    });\n  },\n\n  updateSidebarPosition() {\n    if (window.innerWidth < 1200 || CONFIG.scheme === 'Pisces' || CONFIG.scheme === 'Gemini') return;\n    // Expand sidebar on post detail page by default, when post has a toc.\n    const hasTOC = document.querySelector('.post-toc:not(.placeholder-toc)');\n    let display = CONFIG.page.sidebar;\n    if (typeof display !== 'boolean') {\n      // There's no definition sidebar in the page front-matter.\n      display = CONFIG.sidebar.display === 'always' || (CONFIG.sidebar.display === 'post' && hasTOC);\n    }\n    if (display) {\n      window.dispatchEvent(new Event('sidebar:show'));\n    }\n  },\n\n  activateSidebarPanel(index) {\n    const sidebar = document.querySelector('.sidebar-inner');\n    const activeClassNames = ['sidebar-toc-active', 'sidebar-overview-active'];\n    if (sidebar.classList.contains(activeClassNames[index])) return;\n\n    const panelContainer = sidebar.querySelector('.sidebar-panel-container');\n    const tocPanel = panelContainer.firstElementChild;\n    const overviewPanel = panelContainer.lastElementChild;\n\n    let postTOCHeight = tocPanel.scrollHeight;\n    // For TOC activation, try to use the animated TOC height\n    if (index === 0) {\n      const nav = tocPanel.querySelector('.nav');\n      if (nav) {\n        postTOCHeight = parseInt(nav.style.getPropertyValue('--height'), 10);\n      }\n    }\n    const panelHeights = [\n      postTOCHeight,\n      overviewPanel.scrollHeight\n    ];\n    panelContainer.style.setProperty('--inactive-panel-height', `${panelHeights[1 - index]}px`);\n    panelContainer.style.setProperty('--active-panel-height', `${panelHeights[index]}px`);\n\n    sidebar.classList.replace(activeClassNames[1 - index], activeClassNames[index]);\n  },\n\n  updateFooterPosition() {\n    if (CONFIG.scheme === 'Pisces' || CONFIG.scheme === 'Gemini') return;\n    function updateFooterPosition() {\n      const footer = document.querySelector('.footer');\n      const containerHeight = document.querySelector('.main').offsetHeight + footer.offsetHeight;\n      footer.classList.toggle('footer-fixed', containerHeight <= window.innerHeight);\n    }\n\n    updateFooterPosition();\n    window.addEventListener('resize', updateFooterPosition);\n    window.addEventListener('scroll', updateFooterPosition, { passive: true });\n  },\n\n  getScript(src, options = {}, legacyCondition) {\n    if (typeof options === 'function') {\n      return this.getScript(src, {\n        condition: legacyCondition\n      }).then(options);\n    }\n    const {\n      condition = false,\n      attributes: {\n        id = '',\n        async = false,\n        defer = false,\n        crossOrigin = '',\n        dataset = {},\n        ...otherAttributes\n      } = {},\n      parentNode = null\n    } = options;\n    return new Promise((resolve, reject) => {\n      if (condition) {\n        resolve();\n      } else {\n        const script = document.createElement('script');\n\n        if (id) script.id = id;\n        if (crossOrigin) script.crossOrigin = crossOrigin;\n        script.async = async;\n        script.defer = defer;\n        Object.assign(script.dataset, dataset);\n        Object.entries(otherAttributes).forEach(([name, value]) => {\n          script.setAttribute(name, String(value));\n        });\n\n        script.onload = resolve;\n        script.onerror = reject;\n\n        if (typeof src === 'object') {\n          const { url, integrity } = src;\n          script.src = url;\n          if (integrity) {\n            script.integrity = integrity;\n            script.crossOrigin = 'anonymous';\n          }\n        } else {\n          script.src = src;\n        }\n        (parentNode || document.head).appendChild(script);\n      }\n    });\n  },\n\n  loadComments(selector, legacyCallback) {\n    if (legacyCallback) {\n      return this.loadComments(selector).then(legacyCallback);\n    }\n    return new Promise(resolve => {\n      const element = document.querySelector(selector);\n      if (!CONFIG.comments.lazyload || !element) {\n        resolve();\n        return;\n      }\n      const intersectionObserver = new IntersectionObserver((entries, observer) => {\n        const entry = entries[0];\n        if (!entry.isIntersecting) return;\n\n        resolve();\n        observer.disconnect();\n      });\n      intersectionObserver.observe(element);\n    });\n  },\n\n  debounce(func, wait) {\n    let timeout;\n    return function(...args) {\n      const context = this;\n      clearTimeout(timeout);\n      timeout = setTimeout(() => func.apply(context, args), wait);\n    };\n  }\n};\n"],"mappings":"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","ignoreList":[]}