<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><meta name="theme-color" content="#000"><meta name="generator" content="Hexo 7.3.0"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png"><link rel="mask-icon" href="/images/logo.svg" color="#000"><meta name="google-site-verification" content="google6cab6888cf331a89"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="https://fonts.font.im/css2?family=EB+Garamond:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&family=Cinzel+Decorative:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&family=Noto+Serif+SC:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&family=STZhongsong:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&family=Source+Code+Pro:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha256-5eIC48iZUHmSlSUz9XtjRyK2mzQkHScZY1WdMaoz74E=" crossorigin="anonymous"><link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous"><link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/fancyapps-ui/5.0.31/fancybox/fancybox.css" integrity="sha256-gkQVf8UKZgQ0HyuxL/VnacadJ+D2Kox2TCEBuNQg5+w=" crossorigin="anonymous"><script class="next-config" data-name="main" type="application/json">{"hostname":"yuzhii0718.eu.org","root":"/","images":"/images","scheme":"Pisces","darkmode":false,"version":"8.21.1","exturl":true,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"copycode":{"enable":true,"style":"mac"},"fold":{"enable":true,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"top_n_per_article":1,"unescape":false,"preload":true}}</script><script src="https://s4.zstatic.net/ajax/libs/hexo-theme-next/8.21.1/config.min.js"></script><meta name="keywords" content="ZTE,光猫,telnet,备份固件,中兴,F653GV9,armv7l,处理器,512MB-RAM,256MB-ROM"><meta name="description" content="中兴 F653GV9，可惜不是OpenWrt，虽有512MB-RAM、256MB-ROM，但单核A9(armv7l)的处理器性能羸弱，没有源码只能充当光电转换的角色"><meta property="og:type" content="article"><meta property="og:title" content="ZTE光猫开启telnet·备份固件·记录"><meta property="og:url" content="https://yuzhii0718.eu.org/2024/11/10/1/index.html"><meta property="og:site_name" content="Yuzhii&#39;s Blog"><meta property="og:description" content="中兴 F653GV9，可惜不是OpenWrt，虽有512MB-RAM、256MB-ROM，但单核A9(armv7l)的处理器性能羸弱，没有源码只能充当光电转换的角色"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2024-11-10T02:58:34.000Z"><meta property="article:modified_time" content="2025-04-15T08:32:24.397Z"><meta property="article:author" content="Yuzhii"><meta name="twitter:card" content="summary"><link rel="canonical" href="https://yuzhii0718.eu.org/2024/11/10/1/"><script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://yuzhii0718.eu.org/2024/11/10/1/","path":"2024/11/10/1/","title":"ZTE光猫开启telnet·备份固件·记录"}</script><script class="next-config" data-name="calendar" type="application/json">""</script><title>ZTE光猫开启telnet·备份固件·记录 | Yuzhii's Blog</title><script>((e,t,n,r,a,c)=>{e[n]=e[n]||function(){(e[n].q=e[n].q||[]).push(arguments)},(a=t.createElement(r)).async=1,a.src="https://www.clarity.ms/tag/l2jrn68m1i",(c=t.getElementsByTagName(r)[0]).parentNode.insertBefore(a,c)})(window,document,"clarity","script")</script><noscript><link rel="stylesheet" href="/css/noscript.css"></noscript><style>.darkmode--activated{--body-bg-color:#282828;--content-bg-color:#333;--card-bg-color:#555;--text-color:#ccc;--blockquote-color:#bbb;--link-color:#ccc;--link-hover-color:#eee;--brand-color:#ddd;--brand-hover-color:#ddd;--table-row-odd-bg-color:#282828;--table-row-hover-bg-color:#363636;--menu-item-bg-color:#555;--btn-default-bg:#222;--btn-default-color:#ccc;--btn-default-border-color:#555;--btn-default-hover-bg:#666;--btn-default-hover-color:#ccc;--btn-default-hover-border-color:#666;--highlight-background:#282b2e;--highlight-foreground:#a9b7c6;--highlight-gutter-background:#34393d;--highlight-gutter-foreground:#9ca9b6}.darkmode--activated img{opacity:.75}.darkmode--activated img:hover{opacity:.9}.darkmode--activated code{color:#69dbdc;background:0 0}button.darkmode-toggle{z-index:9999}.darkmode-ignore,img{display:flex!important}.beian img{display:inline-block!important}</style></head><body itemscope itemtype="http://schema.org/WebPage" class="use-motion"><div class="headband"></div><main class="main"><div class="column"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏" role="button"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><i class="logo-line"></i><p class="site-title">Yuzhii's Blog</p><i class="logo-line"></i></a></div><div class="site-nav-right"><div class="toggle popup-trigger" aria-label="搜索" role="button"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">19</span></a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">143</span></a></li><li class="menu-item menu-item-application"><a href="/html/index.html" rel="section"><i class="fa fa-store fa-fw"></i>应用</a></li><li class="menu-item menu-item-alist"><span class="exturl" data-url="aHR0cHM6Ly9hbGlzdC55dXpoaWkwNzE4LmV1Lm9yZw=="><i class="fa fa-hard-drive fa-fw"></i>网盘</span></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"><input autocomplete="off" autocapitalize="off" maxlength="80" placeholder="搜索..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close" role="button"><i class="fa fa-times-circle"></i></span></div><div class="search-result-container"><div class="search-result-icon"><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></header><aside class="sidebar"><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class="sidebar-nav"><li class="sidebar-nav-toc">文章目录</li><li class="sidebar-nav-overview">站点概览</li></ul><div class="sidebar-panel-container"><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%8B%E8%BD%BD%E5%B7%A5%E5%85%B7"><span class="nav-number">1.</span> <span class="nav-text">下载工具</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%89%8D%E6%8F%90"><span class="nav-number">2.</span> <span class="nav-text">前提</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#factorymode-crack-%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95"><span class="nav-number">3.</span> <span class="nav-text">factorymode_crack 使用方法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#zteOnu-%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95"><span class="nav-number">4.</span> <span class="nav-text">zteOnu 使用方法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#telnet"><span class="nav-number">5.</span> <span class="nav-text">telnet</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8-telnet-%E5%91%BD%E4%BB%A4"><span class="nav-number">6.</span> <span class="nav-text">常用 telnet 命令</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE%E5%88%86%E6%9E%90"><span class="nav-number">7.</span> <span class="nav-text">配置分析</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%82%E8%80%83"><span class="nav-number">8.</span> <span class="nav-text">参考</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%90%8E%E7%BB%AD-%E6%8C%82%E5%9C%A8-OpenWrt-%E4%B8%8A%E7%9A%84-Python-%E8%84%9A%E6%9C%AC"><span class="nav-number">9.</span> <span class="nav-text">后续 挂在 OpenWrt 上的 Python 脚本</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8A%9F%E8%83%BD"><span class="nav-number">9.1.</span> <span class="nav-text">功能</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95"><span class="nav-number">9.2.</span> <span class="nav-text">使用方法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#downloadcard"><span class="nav-number">10.</span> <span class="nav-text">脚本文件</span></a></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" alt="Yuzhii" src="/images/avatar.png"><p class="site-author-name" itemprop="name">Yuzhii</p><div class="site-description" itemprop="description">FreeEverywhere</div></div><div class="site-state-wrap animated"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">143</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/"><span class="site-state-item-count">19</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">2</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author animated"><span class="links-of-author-item"><a href="mailto:admin@yuzhii0718.eu.org" title="E-Mail → mailto:admin@yuzhii0718.eu.org" rel="noopener me"><i class="fa fa-envelope fa-fw"></i>E-Mail</a></span></div></div></div></div></aside></div><div class="main-inner post posts-expand"><div class="post-block"><article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://yuzhii0718.eu.org/2024/11/10/1/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.png"><meta itemprop="name" content="Yuzhii"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Yuzhii's Blog"><meta itemprop="description" content="FreeEverywhere"></span><span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork"><meta itemprop="name" content="ZTE光猫开启telnet·备份固件·记录 | Yuzhii's Blog"><meta itemprop="description" content="中兴 F653GV9，可惜不是OpenWrt，虽有512MB-RAM、256MB-ROM，但单核A9(armv7l)的处理器性能羸弱，没有源码只能充当光电转换的角色"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">ZTE光猫开启telnet·备份固件·记录</h1><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2024-11-10 10:58:34" itemprop="dateCreated datePublished" datetime="2024-11-10T10:58:34+08:00">2024-11-10</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2025-04-15 16:32:24" itemprop="dateModified" datetime="2025-04-15T16:32:24+08:00">2025-04-15</time> </span><span class="post-meta-break"></span> <span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>2.9k</span> </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>10 分钟</span></span></div><div class="post-description">中兴 F653GV9，可惜不是OpenWrt，虽有512MB-RAM、256MB-ROM，但单核A9(armv7l)的处理器性能羸弱，没有源码只能充当光电转换的角色</div></div></header><div class="post-body" itemprop="articleBody"><h2 id="下载工具">下载工具</h2><ul class="lvl-0"><li class="lvl-2"><span class="exturl" data-url="aHR0cHM6Ly9naXRjb2RlLmNvbS9vcGVuLXNvdXJjZS10b29sa2l0LzE3ZjA5L292ZXJ2aWV3P3V0bV9zb3VyY2U9dG9vbHNfZ2l0Y29kZSZpbmRleD10b3AmdHlwZT1ocmVmJg==">factorymode_crack<i class="fa fa-external-link-alt"></i></span></li><li class="lvl-2"><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL1NlcHRydW0xMDEvenRlT251">zteOnu<i class="fa fa-external-link-alt"></i></span></li></ul><h2 id="前提">前提</h2><ul class="lvl-0"><li class="lvl-2"><p>你的光猫是中兴的</p></li><li class="lvl-2"><p>运营商还没有下发配置（意味着你需要reset）</p></li><li class="lvl-2"><p>factorymode_crack 适用老款光猫</p></li><li class="lvl-2"><p>zteOnu 兼容新款光猫</p></li><li class="lvl-2"><p>在中兴F653GV9上测试通过</p></li></ul><h2 id="factorymode-crack-使用方法">factorymode_crack 使用方法</h2><ol><li class="lvl-3"><p>cd 到 factorymode_crack 目录</p></li><li class="lvl-3"><p>运行相关命令</p></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./factorymode_crack.exe -l xxx open -i 192.168.1.1 -u CMCCAdmin -pw aDm8H%MdA -p 80</span><br></pre></td></tr></table></figure><p>如果不行可以将80端口改为8080端口</p><h2 id="zteOnu-使用方法">zteOnu 使用方法</h2><ol><li class="lvl-3"><p>cd 到 zteOnu 目录</p></li><li class="lvl-3"><p>运行相关命令</p></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./zteOnu --ip 192.168.1.1 --user CMCCAdmin --pass aDm8H%MdA --port 80</span><br></pre></td></tr></table></figure><p>加上 --telnet 参数可以固化telnet，但在我这台机器上不行，所以我就不加了</p><h2 id="telnet">telnet</h2><p>使用windows自带的telnet工具可能会出现无法打开23端口的情况，可以使用putty工具</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">telnet 192.168.1.1</span><br></pre></td></tr></table></figure><p>可以看一下路由器的配置</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ls</span> /proc/capability/</span><br></pre></td></tr></table></figure><p>然后 <code>cat</code> 里面的文件，可以看到一些配置信息</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 把光猫背面的普通用户提升为超级管理员</span></span><br><span class="line">sendcmd 1 DB <span class="built_in">set</span> DevAuthInfo 1 Level 1</span><br><span class="line"><span class="comment"># 设置修改超级管理员的用户名和密码</span></span><br><span class="line">sendcmd 1 DB <span class="built_in">set</span> DevAuthInfo 0 User xxxxxxxx</span><br><span class="line">sendcmd 1 DB <span class="built_in">set</span> DevAuthInfo 0 Pass yyyyyyyy</span><br></pre></td></tr></table></figure><hr><p>本人的光猫是移动版中兴 F653GV9</p><p>在此记录具体信息</p><p>通过命令，可以得知以下信息：</p><table><thead><tr><th>项目</th><th>型号</th></tr></thead><tbody><tr><td>处理器</td><td>ARMv7 Processor rev 1 (v7l)</td></tr><tr><td>内存</td><td>512MB</td></tr><tr><td>内核版本</td><td>4.1.25</td></tr><tr><td>芯片</td><td>ZX279127S</td></tr><tr><td>核心数</td><td>1</td></tr><tr><td>芯片厂商</td><td>ZXIC</td></tr><tr><td>固件大小</td><td>256M</td></tr><tr><td>设备树</td><td>ZTE ZX27912X</td></tr><tr><td>BogoMIPS</td><td>1987.37</td></tr><tr><td>主频（推测）</td><td>993.7MHz</td></tr></tbody></table><p>这个光猫还是不错的，虽然单核A9的处理器配512MB内存很难绷得住，但是全千兆端口、无Wifi、稳定性很好，不过没有源码，只能充当光电转换的角色。</p><summary>点击查看具体信息</summary><details><div class="note info"><p>固件和芯片</p></div><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">/ # uname -a</span><br><span class="line">Linux F653GV9 4.1.25 #1 SMP Fri Jul 22 10:26:33 CST 2022 armv7l GNU/Linux</span><br><span class="line">/ # cat /proc/version</span><br><span class="line">Linux version 4.1.25 (dubaoshan@localhost.localdomain) (gcc version 4.9.4 (Buildroot 2017.05-svn2186) ) #72 SMP Sun Jun 06 21:16:58 CST 2021</span><br><span class="line">/ # cat /proc/cpuinfo</span><br><span class="line">processor       : 0</span><br><span class="line">model name      : cortex-a9 (arm v7l)</span><br><span class="line">BogoMIPS        : 1987.37</span><br><span class="line">Features        : half fastmult edsp tls</span><br><span class="line">CPU implementer : 0x41</span><br><span class="line">CPU architecture: 7</span><br><span class="line">CPU variant     : 0x4</span><br><span class="line">CPU part        : 0xc09</span><br><span class="line">CPU revision    : 1</span><br><span class="line"></span><br><span class="line">Hardware        : ZTE ZX27912X (Device Tree)</span><br><span class="line">Revision        : 0000</span><br><span class="line">Serial          : 0000000000000000</span><br><span class="line">/ # cat /proc/capability/boardtype</span><br><span class="line">type       : F653GV9</span><br><span class="line">flag       : 1</span><br><span class="line">vid        : 167</span><br><span class="line">optype     : 0</span><br><span class="line">optname    : DF</span><br><span class="line">tmtype     : 0</span><br><span class="line">cpuname    : ZX279127S</span><br><span class="line">cpuid      : 4</span><br><span class="line">chipvendor : ZXIC</span><br><span class="line">/ # cat /proc/capability/ethernetmac</span><br><span class="line">IfName EMAC Mode Speed    Duplex   AutoNeg CurMode Port</span><br><span class="line">eth0   0    1    1000Mbps full     1       GMII    3</span><br><span class="line">eth1   0    1    1000Mbps full     1       GMII    2</span><br><span class="line">eth2   0    1    1000Mbps full     1       GMII    1</span><br><span class="line">eth3   0    1    1000Mbps full     1       GMII    0</span><br><span class="line">wan_lport: 3</span><br><span class="line">/ # free</span><br><span class="line">              total         used         free       shared      buffers</span><br><span class="line">  Mem:       524288       208224       316064         1144         3432</span><br><span class="line"> Swap:            0            0            0</span><br><span class="line">Total:       524288       208224       316064</span><br><span class="line">/ # cat /proc/stat</span><br><span class="line">cpu  21685 0 30484 4788950 5442 0 6943 0 0 0</span><br><span class="line">cpu0 21685 0 30484 4788950 5442 0 6943 0 0 0</span><br><span class="line">intr 16666950 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 4853504 0 0 644176 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 55191 0 0 0 0 1353694 0 0 7 7 2 7 0 0 0 0 9706974 0 0 0 0 0 0 0 53388</span><br><span class="line">ctxt 52842244</span><br><span class="line">btime 4294967295</span><br><span class="line">processes 2134</span><br><span class="line">procs_running 1</span><br><span class="line">procs_blocked 0</span><br><span class="line">softirq 17183364 9706467 4853357 19422 1354886 3090 0 61 0 0 1246081</span><br><span class="line">/ # cat sys/bus/cpu/devices/cpu0/uevent</span><br><span class="line">OF_NAME=cpu</span><br><span class="line">OF_FULLNAME=/cpus/cpu@0</span><br><span class="line">OF_TYPE=cpu</span><br><span class="line">OF_COMPATIBLE_0=arm,cortex-a9</span><br><span class="line">OF_COMPATIBLE_N=1</span><br></pre></td></tr></table></figure><div class="note info"><p>分区和挂载</p></div><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">/ # fdisk -l</span><br><span class="line"></span><br><span class="line">Disk /dev/loop0: 20 MB, 20418560 bytes</span><br><span class="line">255 heads, 63 sectors/track, 2 cylinders</span><br><span class="line">Units = cylinders of 16065 * 512 = 8225280 bytes</span><br><span class="line"></span><br><span class="line">Disk /dev/loop0 doesn&#x27;t contain a valid partition table</span><br><span class="line"></span><br><span class="line">Disk /dev/mtdblock0: 268 MB, 268435456 bytes</span><br><span class="line">255 heads, 63 sectors/track, 32 cylinders</span><br><span class="line">Units = cylinders of 16065 * 512 = 8225280 bytes</span><br><span class="line"></span><br><span class="line">Disk /dev/mtdblock0 doesn&#x27;t contain a valid partition table</span><br><span class="line"></span><br><span class="line">Disk /dev/mtdblock10: 52 MB, 52428800 bytes</span><br><span class="line">255 heads, 63 sectors/track, 6 cylinders</span><br><span class="line">Units = cylinders of 16065 * 512 = 8225280 bytes</span><br><span class="line"></span><br><span class="line">Disk /dev/mtdblock10 doesn&#x27;t contain a valid partition table</span><br><span class="line">/ # df</span><br><span class="line">Filesystem           1024-blocks    Used Available Use% Mounted on</span><br><span class="line">/dev/root                32640     27332      5308  84% /</span><br><span class="line">/dev/loop0               19968     19968         0 100% /kmodule</span><br><span class="line">/dev/mtdblock3            4096       456      3640  11% /tagparam</span><br><span class="line">tmpfs                    20480       252     20228   1% /var</span><br><span class="line">tmpfs                    25600         0     25600   0% /vasdocker</span><br><span class="line">tmpfs                    81920         0     81920   0% /upgtempfile</span><br><span class="line">tmpfs                     2048         0      2048   0% /var/osstmp</span><br><span class="line">tmpfs                     2048         0      2048   0% /mnt</span><br><span class="line">tmpfs                    16384        24     16360   0% /var/felix-temp</span><br><span class="line">tmpfs                    15360        32     15328   0% /tmp</span><br><span class="line">/dev/mtdblock5            8192       640      7552   8% /userconfig</span><br><span class="line">/dev/mtdblock6            4096       384      3712   9% /kmodule/usr/local/ct</span><br><span class="line">ubi0_0                   41628     25872     15756  62% /kmodule/usr/tmp</span><br><span class="line">/dev/loop1               26624     26624         0 100% /kmodule/usr/java</span><br><span class="line">ubi1_0                   55508      9788     42852  19% /kmodule/usr/plugin</span><br><span class="line">/dev/mtdblock4            4096       404      3692  10% /wlan</span><br><span class="line">cgroup_root             222696         0    222696   0% /sys/fs/cgroup</span><br><span class="line">/ # cat /etc/fstab</span><br><span class="line"># &lt;file system&gt; &lt;mount point&gt;   &lt;type&gt;  &lt;options&gt;    &lt;dump&gt; &lt;pass&gt;</span><br><span class="line"></span><br><span class="line"># The syntax of busybox&#x27;s fstab entry&#x27;s a little different than traditional</span><br><span class="line"># mount, and doesn&#x27;t work with the usual &#x27;rootfs / rootfs rw 0 0&#x27; entry.</span><br><span class="line"># Actually, it&#x27;s not needed unless you&#x27;re mounting from a non-nfs device,</span><br><span class="line"># like a hard disk.  In that case, you probably need something like the</span><br><span class="line"># following:</span><br><span class="line"></span><br><span class="line"># /dev/hda1       /               ext3    rw           1      1</span><br><span class="line"></span><br><span class="line">proc            /proc           proc    defaults     0      0</span><br><span class="line">sysfs           /sys            sysfs   defaults     0      0</span><br><span class="line">#devpts          /dev/pts        devpts  defaults     0      0</span><br><span class="line">#tmpfs           /var            tmpfs   rw     0      0</span><br><span class="line">/ # cat /proc/mtd</span><br><span class="line">dev:    size   erasesize  name</span><br><span class="line">mtd0: 10000000 00020000 &quot;whole flash&quot;</span><br><span class="line">mtd1: 00200000 00020000 &quot;u-boot&quot;</span><br><span class="line">mtd2: 00400000 00020000 &quot;others&quot;</span><br><span class="line">mtd3: 00400000 00020000 &quot;parameter tags&quot;</span><br><span class="line">mtd4: 00400000 00020000 &quot;wlan&quot;</span><br><span class="line">mtd5: 00800000 00020000 &quot;usercfg&quot;</span><br><span class="line">mtd6: 00400000 00020000 &quot;middleware&quot;</span><br><span class="line">mtd7: 02000000 00020000 &quot;kernel1&quot;</span><br><span class="line">mtd8: 02000000 00020000 &quot;kernel2&quot;</span><br><span class="line">mtd9: 03200000 00020000 &quot;osgi1&quot;</span><br><span class="line">mtd10: 03200000 00020000 &quot;osgi2&quot;</span><br><span class="line">mtd11: 04100000 00020000 &quot;plugin_data&quot;</span><br><span class="line">mtd12: 01fe0000 00020000 &quot;rootfs&quot;</span><br></pre></td></tr></table></figure><div class="note info"><p>备份固件</p></div><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">/ # mtd_debug read /dev/mtd0 0 0x10000000 /mnt/usb1_1/mtd0</span><br><span class="line">/ # tftp -p -l mtd0 192.168.1.2</span><br><span class="line">/ # tftp -p -l mtd1 192.168.1.2</span><br><span class="line">/ # tftp -p -l mtd2 192.168.1.2</span><br><span class="line">/ # tftp -p -l mtd3 192.168.1.2</span><br><span class="line">/ # tftp -p -l mtd4 192.168.1.2</span><br><span class="line">/ # tftp -p -l mtd5 192.168.1.2</span><br><span class="line">/ # tftp -p -l mtd6 192.168.1.2</span><br><span class="line">/ # tftp -p -l mtd7 192.168.1.2</span><br><span class="line">/ # tftp -p -l mtd8 192.168.1.2</span><br><span class="line">/ # tftp -p -l mtd9 192.168.1.2</span><br><span class="line">/ # tftp -p -l mtd10 192.168.1.2</span><br><span class="line">/ # tftp -p -l mtd11 192.168.1.2</span><br><span class="line">/ # tftp -p -l mtd12 192.168.1.2</span><br></pre></td></tr></table></figure><div class="note info"><p>分区具体信息</p></div><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">/ # cd /dev/</span><br><span class="line">/ # mtd_debug info mtd0</span><br><span class="line">mtd.type = MTD_NANDFLASH</span><br><span class="line">mtd.flags =</span><br><span class="line">mtd.size = 268435456 (256M)</span><br><span class="line">mtd.erasesize = 131072 (128K)</span><br><span class="line">mtd.oobblock = 2048 (2K)</span><br><span class="line">mtd.oobsize = 64</span><br><span class="line">mtd.ecctype = MTD_ECC_NONE</span><br><span class="line">regions = 0</span><br><span class="line"></span><br><span class="line">/ # mtd_debug info mtd1</span><br><span class="line">mtd.type = MTD_NANDFLASH</span><br><span class="line">mtd.flags =</span><br><span class="line">mtd.size = 2097152 (2M)</span><br><span class="line">mtd.erasesize = 131072 (128K)</span><br><span class="line">mtd.oobblock = 2048 (2K)</span><br><span class="line">mtd.oobsize = 64</span><br><span class="line">mtd.ecctype = MTD_ECC_NONE</span><br><span class="line">regions = 0</span><br><span class="line"></span><br><span class="line">/ # mtd_debug info mtd2</span><br><span class="line">mtd.type = MTD_NANDFLASH</span><br><span class="line">mtd.flags =</span><br><span class="line">mtd.size = 4194304 (4M)</span><br><span class="line">mtd.erasesize = 131072 (128K)</span><br><span class="line">mtd.oobblock = 2048 (2K)</span><br><span class="line">mtd.oobsize = 64</span><br><span class="line">mtd.ecctype = MTD_ECC_NONE</span><br><span class="line">regions = 0</span><br><span class="line"></span><br><span class="line">/ # mtd_debug info mtd3</span><br><span class="line">mtd.type = MTD_NANDFLASH</span><br><span class="line">mtd.flags =</span><br><span class="line">mtd.size = 4194304 (4M)</span><br><span class="line">mtd.erasesize = 131072 (128K)</span><br><span class="line">mtd.oobblock = 2048 (2K)</span><br><span class="line">mtd.oobsize = 64</span><br><span class="line">mtd.ecctype = MTD_ECC_NONE</span><br><span class="line">regions = 0</span><br><span class="line"></span><br><span class="line">/ # mtd_debug info mtd4</span><br><span class="line">mtd.type = MTD_NANDFLASH</span><br><span class="line">mtd.flags =</span><br><span class="line">mtd.size = 4194304 (4M)</span><br><span class="line">mtd.erasesize = 131072 (128K)</span><br><span class="line">mtd.oobblock = 2048 (2K)</span><br><span class="line">mtd.oobsize = 64</span><br><span class="line">mtd.ecctype = MTD_ECC_NONE</span><br><span class="line">regions = 0</span><br><span class="line"></span><br><span class="line">/ # mtd_debug info mtd5</span><br><span class="line">mtd.type = MTD_NANDFLASH</span><br><span class="line">mtd.flags =</span><br><span class="line">mtd.size = 8388608 (8M)</span><br><span class="line">mtd.erasesize = 131072 (128K)</span><br><span class="line">mtd.oobblock = 2048 (2K)</span><br><span class="line">mtd.oobsize = 64</span><br><span class="line">mtd.ecctype = MTD_ECC_NONE</span><br><span class="line">regions = 0</span><br><span class="line"></span><br><span class="line">/ # mtd_debug info mtd6</span><br><span class="line">mtd.type = MTD_NANDFLASH</span><br><span class="line">mtd.flags =</span><br><span class="line">mtd.size = 4194304 (4M)</span><br><span class="line">mtd.erasesize = 131072 (128K)</span><br><span class="line">mtd.oobblock = 2048 (2K)</span><br><span class="line">mtd.oobsize = 64</span><br><span class="line">mtd.ecctype = MTD_ECC_NONE</span><br><span class="line">regions = 0</span><br><span class="line"></span><br><span class="line">/ # mtd_debug info mtd7</span><br><span class="line">mtd.type = MTD_NANDFLASH</span><br><span class="line">mtd.flags =</span><br><span class="line">mtd.size = 33554432 (32M)</span><br><span class="line">mtd.erasesize = 131072 (128K)</span><br><span class="line">mtd.oobblock = 2048 (2K)</span><br><span class="line">mtd.oobsize = 64</span><br><span class="line">mtd.ecctype = MTD_ECC_NONE</span><br><span class="line">regions = 0</span><br><span class="line"></span><br><span class="line">/ # mtd_debug info mtd8</span><br><span class="line">mtd.type = MTD_NANDFLASH</span><br><span class="line">mtd.flags =</span><br><span class="line">mtd.size = 33554432 (32M)</span><br><span class="line">mtd.erasesize = 131072 (128K)</span><br><span class="line">mtd.oobblock = 2048 (2K)</span><br><span class="line">mtd.oobsize = 64</span><br><span class="line">mtd.ecctype = MTD_ECC_NONE</span><br><span class="line">regions = 0</span><br><span class="line"></span><br><span class="line">/ # mtd_debug info mtd9</span><br><span class="line">mtd.type = MTD_NANDFLASH</span><br><span class="line">mtd.flags =</span><br><span class="line">mtd.size = 52428800 (50M)</span><br><span class="line">mtd.erasesize = 131072 (128K)</span><br><span class="line">mtd.oobblock = 2048 (2K)</span><br><span class="line">mtd.oobsize = 64</span><br><span class="line">mtd.ecctype = MTD_ECC_NONE</span><br><span class="line">regions = 0</span><br><span class="line"></span><br><span class="line">/ # mtd_debug info mtd10</span><br><span class="line">mtd.type = MTD_NANDFLASH</span><br><span class="line">mtd.flags =</span><br><span class="line">mtd.size = 52428800 (50M)</span><br><span class="line">mtd.erasesize = 131072 (128K)</span><br><span class="line">mtd.oobblock = 2048 (2K)</span><br><span class="line">mtd.oobsize = 64</span><br><span class="line">mtd.ecctype = MTD_ECC_NONE</span><br><span class="line">regions = 0</span><br><span class="line"></span><br><span class="line">/ # mtd_debug info mtd11</span><br><span class="line">mtd.type = MTD_NANDFLASH</span><br><span class="line">mtd.flags =</span><br><span class="line">mtd.size = 68157440 (65M)</span><br><span class="line">mtd.erasesize = 131072 (128K)</span><br><span class="line">mtd.oobblock = 2048 (2K)</span><br><span class="line">mtd.oobsize = 64</span><br><span class="line">mtd.ecctype = MTD_ECC_NONE</span><br><span class="line">regions = 0</span><br><span class="line"></span><br><span class="line">/ # mtd_debug info mtd12</span><br><span class="line">mtd.type = MTD_NANDFLASH</span><br><span class="line">mtd.flags =</span><br><span class="line">mtd.size = 33423360 (31M)</span><br><span class="line">mtd.erasesize = 131072 (128K)</span><br><span class="line">mtd.oobblock = 2048 (2K)</span><br><span class="line">mtd.oobsize = 64</span><br><span class="line">mtd.ecctype = MTD_ECC_NONE</span><br><span class="line">regions = 0</span><br></pre></td></tr></table></figure></details><h2 id="常用-telnet-命令">常用 telnet 命令</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看所有配置</span></span><br><span class="line">sendcmd 1 DB p all <span class="comment"># 有些版本不现实</span></span><br><span class="line"><span class="comment">#超密查询</span></span><br><span class="line">sendcmd 1 DB p DevAuthInfo</span><br><span class="line"><span class="comment">#telnet密码查询</span></span><br><span class="line">sendcmd 1 DB p TelnetCfg</span><br><span class="line"><span class="comment">#pppoe密码查询</span></span><br><span class="line">sendcmd 1 DB p WANCPPP</span><br><span class="line"><span class="comment">#wifi密码查询</span></span><br><span class="line">sendcmd 1 DB p WLANPSK</span><br><span class="line"> </span><br><span class="line"><span class="comment">#1指的是APPID，对应进程cspd，可通过命令sendcmd -pc show 查看进程列表</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 关闭运营商远程操作</span></span><br><span class="line">sendcmd 1 DB <span class="built_in">set</span> MgtServer 0 Tr069Enable 0</span><br></pre></td></tr></table></figure><h2 id="配置分析">配置分析</h2><p>超级管理员账号为CMCCAdmin，密码变成了CMCCAdmin+8位随机字符串（数字/字母/特殊字符）这个基本上是随机的没有规律</p><p>pppoe拨号的账号为手机号@net，密码为12345678</p><h2 id="参考">参考</h2><ul class="lvl-0"><li class="lvl-2"><p><span class="exturl" data-url="aHR0cHM6Ly9kbW0uaW5rLzIwMjQvMDYvMDEvenh0ZWxuZXR0ZWxuZXQxLw==">中兴光猫开临时telnet-修改超管密码-固化开启telnet—-第一期<i class="fa fa-external-link-alt"></i></span></p></li><li class="lvl-2"><p><span class="exturl" data-url="aHR0cHM6Ly93d3cucmlnaHQuY29tLmNuL2ZvcnVtL3RocmVhZC04MTYzMDg3LTEtMS5odG1s">【天翼天邑】 中兴电信光猫天翼4.0破解获取超级密码教程<i class="fa fa-external-link-alt"></i></span></p></li><li class="lvl-2"><p><span class="exturl" data-url="aHR0cHM6Ly93d3cuY2hpcGhlbGwuY29tL2ZvcnVtLnBocD9tb2Q9dmlld3RocmVhZCZ0aWQ9MjU5ODM5Mg==">【网络】 简单分享F7015TV3新款光猫详细参数及分享个人光猫修改经验<i class="fa fa-external-link-alt"></i></span></p></li><li class="lvl-2"><p><span class="exturl" data-url="aHR0cHM6Ly93d3cucmlnaHQuY29tLmNuL2ZvcnVtL3RocmVhZC04MjY2NDA1LTEtMS5odG1s">F653GV9 成功开启telnet 备份固件<i class="fa fa-external-link-alt"></i></span></p></li><li class="lvl-2"><p><span class="exturl" data-url="aHR0cHM6Ly93d3cucmlnaHQuY29tLmNuL2ZvcnVtL3RocmVhZC00NTM2MTgtMS0xLmh0bWw=">光猫破解教程二：固件备份（小白升级篇，同样适用于路由器）<i class="fa fa-external-link-alt"></i></span></p></li><li class="lvl-2"><p><span class="exturl" data-url="aHR0cHM6Ly9naXRjb2RlLmNzZG4ubmV0LzY1ZTkzYmJhMWE4MzY4MjVlZDc4ZTU1Mi5odG1s">移动光猫固件备份、刷机、改sn和mac等<i class="fa fa-external-link-alt"></i></span></p></li><li class="lvl-2"><p><span class="exturl" data-url="aHR0cHM6Ly93d3cuYmlsaWJpbGkuY29tL29wdXMvOTU4ODQ1NzAyMTg5ODc1MjIw">中兴7015TV3 开启telnet 换光猫 折腾记录<i class="fa fa-external-link-alt"></i></span></p></li><li class="lvl-2"><p><span class="exturl" data-url="aHR0cHM6Ly93d3cucmlnaHQuY29tLmNuL2ZvcnVtL3RocmVhZC04MzA4NTcxLTEtMS5odG1s">【中兴】 中兴光猫 ZXHNTelnet设置代码大全<i class="fa fa-external-link-alt"></i></span></p></li><li class="lvl-2"><p><span class="exturl" data-url="aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2dzbHMyMDA4MDgvYXJ0aWNsZS9kZXRhaWxzLzEzMjgwNTg1Nw==">移动中兴ZXHN F6610M光猫拨号密码查询<i class="fa fa-external-link-alt"></i></span></p></li></ul><h2 id="后续-挂在-OpenWrt-上的-Python-脚本">后续 挂在 OpenWrt 上的 Python 脚本</h2><p>这光猫的系统是 Linux，并且有 BusyBox，理论可以通过 BusyBox 的一些命令来实现一些高级操作</p><p>然而还是我想多了，这个光猫的 BusyBox 版本太低，而且有大量的命令被删除了，所以只能用来做一些简单的操作</p><p>比如 iptables，可以通过 iptables 命令来设置防火墙规则，然而并不生效</p><p>又比如 tc，可以通过 tc 命令来设置网络带宽，然而 qdisc 的算法都被删除了</p><p>或许你可以想到使用 shell 脚本来实现一些功能，然而这个光猫的固件使用了 UBI 文件系统，ROOTFS 是只读的，以及没有任何文本编辑器（vi、vim、nano、emacs 都没有），即使是 sh 也是 not found。</p><p>只有 ifconfig 还算正常，可以通过 ifconfig 命令来设置网络接口</p><p>故此，只能另辟蹊径了，比如使用 Python 来实现一些功能</p><p>可以利用上述脚本模拟延迟</p><p>把它添加应用到 bash 脚本中，再使用路由器的定时任务中，可以实现某时段的延迟</p><p>至于限速，目前则是无能为力了。</p><p>由于一些原因，不能直接从外网访问到该路由（并非是没有 IPv6），故，通过挂在其下的 OpenWrt 来实现</p><h3 id="功能">功能</h3><ul class="lvl-0"><li class="lvl-2"><p><input type="checkbox" id="checkbox0" checked><label for="checkbox0">命令执行</label></p></li></ul><p>我用于执行 ifconfig 命令，可以指定延迟和随机延迟，以及执行次数</p><ul class="lvl-0"><li class="lvl-2"><p><input type="checkbox" id="checkbox1" checked><label for="checkbox1">计划任务脚本生成</label></p></li></ul><p>一个 Python 脚本来生成一个计划任务列表，追加到 crontab 中</p><ul class="lvl-0"><li class="lvl-2"><p><input type="checkbox" id="checkbox2" checked><label for="checkbox2">通过 git 从外网获取实时 IP</label></p></li></ul><p>没有自己的服务器，我们要怎么把 IP 传递到外网呢？</p><p>可以通过 git 来实现，git 有一个功能，就是可以通过 <code>git push</code> 命令，把本地的文件推送到远程仓库</p><p>在 openwrt 上，安装 git、openssh-keygen、openssh-client、python3</p><p>搭配默认的 crontab 计划任务，每隔一段时间执行一次脚本，把 IP 写入到一个文件中，然后通过 git 推送到远程仓库</p><p>那么就可以实现通过 git 来获取 IP 了</p><p>在 openwrt 上执行以下命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> /proc/net/arp <span class="comment"># 可以得到 ipv4 mac 连接的硬件接口</span></span><br><span class="line">iwinfo phy1-ap0 info <span class="comment"># 可以得到无线接口的信息</span></span><br><span class="line">iwinfo phy1-ap0 assoclist <span class="comment"># 可以得到无线接口连接的设备信息</span></span><br><span class="line">iw dev phy1-ap0 station dump  <span class="comment"># 可以得到无线接口详细参数</span></span><br><span class="line"><span class="built_in">cat</span> /tmp/dhcp.leases <span class="comment"># 可以得到 dhcp 信息（ipv4 mac 以及设备名）</span></span><br><span class="line"><span class="built_in">cat</span> /tmp/hosts/odhcpd <span class="comment"># 可以得到 dhcp 信息（ipv6 以及设备名）</span></span><br><span class="line">ifconfig <span class="comment"># 可以得到所有接口的信息</span></span><br><span class="line">ip addr <span class="comment"># 可以得到所有接口的信息</span></span><br></pre></td></tr></table></figure><p>结合以上命令，可以得到当前连接到路由器的设备的 IP 地址</p><ul class="lvl-0"><li class="lvl-2"><p><input type="checkbox" id="checkbox3" checked><label for="checkbox3">检测 log 文件的大小</label></p></li></ul><p>一个 Python 脚本来检测 /tmp/python-script/ 目录下的所有 .log 文件的大小，当大小达到 1MB 时，删除前半段内容</p><ul class="lvl-0"><li class="lvl-2"><p><input type="checkbox" id="checkbox4"><label for="checkbox4">通过 git 读取配置文件、</label></p></li></ul><p>同理，可以通过 git 来读取配置文件，然后执行相应的操作</p><h3 id="使用方法">使用方法</h3><div id="downloadcard"><div class="card"><h2>脚本文件</h2><a href="./pyscript.zip" download="pyscript.zip" class="download-btn" target="_blank" data-pjax-state="load">下载</a></div></div><style>#downloadcard{font-family:Arial,sans-serif;display:flex;justify-content:center;align-items:center;margin:0}.card{background-color:#fff;padding:20px;border-radius:8px;box-shadow:0 4px 8px rgba(0,0,0,.1);text-align:center}.card h2{margin-bottom:20px}.download-btn{display:block;margin:10px 0;padding:10px 20px;background-color:#007bff;color:#fff;text-decoration:none;border-radius:4px;transition:background-color .3s}.download-btn:hover{background-color:#0056b3}</style><p>将脚本文件解压到 openwrt 的 /usr/bin/ 目录下</p><p>然后在 openwrt 上执行以下命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">chmod</span> +x /usr/bin/pyscript.py</span><br></pre></td></tr></table></figure><p>然后编辑 cron 计划任务</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/crontabs/root</span><br></pre></td></tr></table></figure><p>添加以下内容</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 每天 0 点执行一次</span><br><span class="line">0 0 * * * /usr/bin/python3 /usr/bin/pyscript.py</span><br></pre></td></tr></table></figure><blockquote><p>我将一些路径设定在了 /tmp/python-script/ 目录下，你可以根据自己的需要修改这个路径重启后会清空，可以改到 /root/ 目录下，这个目录是可以持久化的</p></blockquote></div><footer class="post-footer"><div class="post-copyright"><ul><li class="post-copyright-author"><strong>本文作者： </strong>Yuzhii</li><li class="post-copyright-link"><strong>本文链接：</strong> <a href="https://yuzhii0718.eu.org/2024/11/10/1/" title="ZTE光猫开启telnet·备份固件·记录">https://yuzhii0718.eu.org/2024/11/10/1/</a></li><li class="post-copyright-license"><strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC8="><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div><div class="post-nav"><div class="post-nav-item"><a href="/2024/11/04/1/" rel="prev" title="网件 AX8 RAX80 路由器探索 硬件·散热·改装·固件·救砖"><i class="fa fa-angle-left"></i> 网件 AX8 RAX80 路由器探索 硬件·散热·改装·固件·救砖</a></div><div class="post-nav-item"><a href="/2024/11/10/2/" rel="next" title="利用 Cisco Packet Tracer 进行组网实验 1">利用 Cisco Packet Tracer 进行组网实验 1 <i class="fa fa-angle-right"></i></a></div></div></footer></article></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2025</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">Yuzhii</span></div><div class="wordcount"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-chart-line"></i> </span><span title="站点总字数">202k</span> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-coffee"></i> </span><span title="站点阅读时长">12:15</span></span></div><div class="powered-by">由 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & <span class="exturl" data-url="aHR0cHM6Ly90aGVtZS1uZXh0LmpzLm9yZy9waXNjZXMv">NexT.Pisces</span> 强力驱动</div><div class="translate-style">简/繁：<a id="translateLink" href="javascript:translatePage();" title="切换简/繁体">繁體</a></div><script type="text/javascript" src="/js/tw_cn.js"></script><script type="text/javascript">var defaultEncoding=2,translateDelay=100,cookieDomain="https://yuzhii0718.eu.org/",msgToTraditionalChinese="繁體",msgToSimplifiedChinese="简体",translateButtonId="translateLink";translateInitilization(),document.addEventListener("pjax:complete",function(){translateInitilization()})</script></div></footer><div class="toggle sidebar-toggle" role="button"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div><div class="sidebar-dimmer"></div><div class="back-to-top" role="button" aria-label="返回顶部"><i class="fa fa-arrow-up fa-lg"></i> <span>0%</span></div><noscript><div class="noscript-warning">Theme NexT works best with JavaScript enabled</div></noscript><script src="https://s4.zstatic.net/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script><script src="https://s4.zstatic.net/ajax/libs/next-theme-pjax/0.6.0/pjax.min.js" integrity="sha256-vxLn1tSKWD4dqbMRyv940UYw4sXgMtYcK6reefzZrao=" crossorigin="anonymous"></script><script src="https://s4.zstatic.net/ajax/libs/fancyapps-ui/5.0.31/fancybox/fancybox.umd.js" integrity="sha256-a+H7FYzJv6oU2hfsfDGM2Ohw/cR9v+hPfxHCLdmCrE8=" crossorigin="anonymous"></script><script src="https://s4.zstatic.net/ajax/libs/hexo-theme-next/8.21.1/comments.min.js"></script><script src="https://s4.zstatic.net/ajax/libs/hexo-theme-next/8.21.1/utils.min.js"></script><script src="https://s4.zstatic.net/ajax/libs/hexo-theme-next/8.21.1/motion.min.js"></script><script src="https://s4.zstatic.net/ajax/libs/hexo-theme-next/8.21.1/sidebar.min.js"></script><script src="https://s4.zstatic.net/ajax/libs/hexo-theme-next/8.21.1/next-boot.min.js"></script><script src="https://s4.zstatic.net/ajax/libs/hexo-theme-next/8.21.1/pjax.min.js"></script><script src="https://s4.zstatic.net/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script><script src="https://s4.zstatic.net/ajax/libs/hexo-theme-next/8.21.1/third-party/search/local-search.min.js"></script><script class="next-config" data-name="mermaid" type="application/json">{"enable":true,"theme":{"light":"default","dark":"dark"},"js":{"url":"https://s4.zstatic.net/ajax/libs/mermaid/11.4.0/mermaid.min.js","integrity":"sha256-G8ouPAnw4zzMbnAenHnVz6h9XpKbNdOkrqTh7AadyHs="}}</script><script src="https://s4.zstatic.net/ajax/libs/hexo-theme-next/8.21.1/third-party/tags/mermaid.min.js"></script><script src="https://s4.zstatic.net/ajax/libs/hexo-theme-next/8.21.1/third-party/fancybox.min.js"></script><script src="https://s4.zstatic.net/ajax/libs/Darkmode.js/1.5.7/darkmode-js.min.js"></script><script>var options={bottom:"-1rem",right:"-1rem",left:"unset",time:"0.5s",mixColor:"transparent",backgroundColor:"transparent",buttonColorDark:"#100f2c",buttonColorLight:"#fff",saveInCookies:!0,label:"🌓",autoMatchOsTheme:!0};let darkmode=new Darkmode(options);(window.darkmode=darkmode).showWidget()</script><script>1e3<screen.width&&(document.write(decodeURI("%3Cscript%20type=%22text/javascript%22%20src=%22/js/src/ribbon.min.js%22%3E%3C/script%3E")),document.write(decodeURI("%3Cscript%20type=%22text/javascript%22%20src=%22/js/src/version-info.js%22%3E%3C/script%3E")))</script></body></html>