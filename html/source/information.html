<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>information</title>
    <link rel="stylesheet" href="../css/page.css">
</head>

<body>
    <main class="page">
        <section class="card" aria-label="资讯">
            <h1>资讯</h1>

            <div class="meta" aria-label="站点信息">
                <div class="meta-row">
                    <div class="meta-label">Version</div>
                    <div class="meta-value" id="version">—</div>
                </div>
                <div class="meta-row">
                    <div class="meta-label">Year</div>
                    <div class="meta-value" id="year">—</div>
                </div>
                <div class="meta-row">
                    <div class="meta-label">Author</div>
                    <div class="meta-value" id="author">—</div>
                </div>
            </div>

            <hr>

            <blockquote>
                <p>
                    “So every bondman in his own hand bears<br>
                    The power to cancel his captivity.”<br>
                    <span class="small">William Shakespeare, <em>Julius Cæsar</em> (1599), Act I, scene 3, line 101</span>
                </p>
            </blockquote>
        </section>
    </main>

    <script>
        (function () {
            'use strict';

            function setText(id, value) {
                var el = document.getElementById(id);
                if (!el) return;
                el.textContent = value == null || value === '' ? '—' : String(value);
            }

            fetch('../common/config.json')
                .then(function (response) {
                    if (!response.ok) {
                        throw new Error('Failed to load config.json: ' + response.status + ' ' + response.statusText);
                    }
                    return response.json();
                })
                .then(function (data) {
                    setText('version', data && data.Version);
                    setText('year', data && data.Year);
                    setText('author', data && data.author);
                })
                .catch(function (err) {
                    console.error(err);
                    setText('version', '配置加载失败');
                });
        })();
    </script>
</body>

</html>